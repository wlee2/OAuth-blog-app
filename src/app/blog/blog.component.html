<mat-card class="matcard-container">
    <mat-card-header>
        <div mat-card-avatar>
            <img class="matcard-avatar" [src]="review.Author.Picture">
        </div>

        <mat-card-title>{{ review.Location.Name | uppercase}}</mat-card-title>
        <mat-card-subtitle>{{ review.Location.Address }}</mat-card-subtitle>
    </mat-card-header>

    <div mat-card-image class="matcard-image-container">
        <div class="scrolling-wrapper">
            <div *ngIf="!imageReady" class="viewer spinner">
                <mat-spinner style="margin: auto;"></mat-spinner>
            </div>
            <div #imageTag class="viewer" [hidden]="!imageReady" [style.transform]="moveTo"
                *ngFor="let image of images">
                <img [src]="image" (load)="onImageReady()" />
            </div>
            <div #imageTag class="viewer" [style.transform]="moveTo">
                <agm-map #map class="google-map" [zoom]="13" [latitude]="review.Location.Lat"
                    [longitude]="review.Location.Lng" [gestureHandling]="'none'" [zoomControlOptions]="zoomOption"
                    [streetViewControl]="false" (mapReady)="mapReady(infoWindow, $event)">
                    <agm-marker [latitude]="review.Location.Lat" [longitude]="review.Location.Lng" [label]="'A'"
                        (markerClick)="clickEvent(infoWindow, $event)">
                        <agm-info-window #infoWindow [disableAutoPan]="false">
                            <p>{{review.Location.Name}}</p>
                        </agm-info-window>
                    </agm-marker>
                </agm-map>
            </div>
        </div>
        <button *ngIf="moveCount != 0" class="move-button left" mat-button (click)="imageToLeft()">
            <fa-icon [icon]="faChevronCircleLeft" size="2x"></fa-icon>
        </button>
        <button *ngIf="moveCount < images.length" class="move-button right" mat-button (click)="imageToRight()">
            <fa-icon [icon]="faChevronCircleRight" size="2x"></fa-icon>
        </button>
        <div style="display: flex; justify-content: center; margin: 0; padding: 0;">
            <mat-icon *ngFor="let p of review.Photos; let i = index"
                [style.color]="moveCount == i ? '#29487d' : '#bdbdbd'" style="margin: 0; padding: 0; font-size: 15px;"
                (click)="moveCountChange(i)">minimize</mat-icon>
            <mat-icon [style.color]="moveCount == review.Photos.length ? '#29487d' : '#bdbdbd'"
                style="margin: 0; padding: 0; font-size: 15px;" (click)="moveCountChange(review.Photos.length)">
                place</mat-icon>
        </div>
    </div>

    <mat-card-content>
        <div style="font-size: 12px; color: #bdbdbd;">
            <div style="display: flex; justify-content: flex-end;">
                <p style="margin: 11px; padding: 0;">Author Rating: </p>
                <star-rating style="margin: 0; padding: 0;" value="{{review.PlaceRate}}" checkedcolor="gold"
                    uncheckedcolor="#bdbdbd" size="23px" readonly="true"></star-rating>
                <p style="margin: 11px; padding: 0;">{{review.PlaceRate}} / 5</p>
            </div>
            <div style="display: flex; justify-content: flex-end;">
                <p style="margin: 0px; padding: 0;">Written: {{ localeDate }}</p>
            </div>
        </div>
        <p>
            {{review.ReviewContent}}
        </p>
    </mat-card-content>
    <!-- <mat-card-actions>
        <button mat-button>LIKE</button>
        <button mat-button>SHARE</button>
    </mat-card-actions> -->
</mat-card>